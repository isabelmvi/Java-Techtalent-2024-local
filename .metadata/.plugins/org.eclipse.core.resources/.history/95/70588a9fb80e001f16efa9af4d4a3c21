package UD19_swing;

import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BorderFactory;
import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JSlider;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

public class miniEncuesta extends JFrame {

    private JRadioButton radioButtonWindows, radioButtonLinux, radioButtonMac;
    private JCheckBox checkBoxProgramacion, checkBoxDisenoGrafico, checkBoxAdministracion;
    private JSlider sliderHoras;
    private JButton buttonEnviar;
    private JTextField textFieldResultado;

    public miniEncuesta() {
        setTitle("Mini Encuesta");
        setSize(400, 300);
        setDefaultCloseOperation(EXIT_ON_CLOSE);

        // Panel principal
        JPanel panelPrincipal = new JPanel();
        panelPrincipal.setLayout(new BoxLayout(panelPrincipal, BoxLayout.Y_AXIS));

        // Panel para el sistema operativo
        JPanel panelSistemaOperativo = new JPanel();
        panelSistemaOperativo.setBorder(BorderFactory.createTitledBorder("Sistema Operativo"));
        panelSistemaOperativo.setLayout(new FlowLayout(FlowLayout.LEFT));
        radioButtonWindows = new JRadioButton("Windows");
        radioButtonLinux = new JRadioButton("Linux");
        radioButtonMac = new JRadioButton("Mac");
        panelSistemaOperativo.add(radioButtonWindows);
        panelSistemaOperativo.add(radioButtonLinux);
        panelSistemaOperativo.add(radioButtonMac);
        panelPrincipal.add(panelSistemaOperativo);

        // Panel para la especialidad
        JPanel panelEspecialidad = new JPanel();
        panelEspecialidad.setBorder(BorderFactory.createTitledBorder("Especialidad"));
        panelEspecialidad.setLayout(new BoxLayout(panelEspecialidad, BoxLayout.Y_AXIS));
        checkBoxProgramacion = new JCheckBox("Programación");
        checkBoxDisenoGrafico = new JCheckBox("Diseño gráfico");
        checkBoxAdministracion = new JCheckBox("Administración");
        panelEspecialidad.add(checkBoxProgramacion);
        panelEspecialidad.add(checkBoxDisenoGrafico);
        panelEspecialidad.add(checkBoxAdministracion);
        panelPrincipal.add(panelEspecialidad);

        // Panel para las horas dedicadas
        JPanel panelHoras = new JPanel();
        panelHoras.setBorder(BorderFactory.createTitledBorder("Horas Dedicadas en el Ordenador"));
        panelHoras.setLayout(new FlowLayout(FlowLayout.LEFT));
        sliderHoras = new JSlider(0, 10, 0);
        sliderHoras.setMajorTickSpacing(1);
        sliderHoras.setPaintTicks(true);
        sliderHoras.setPaintLabels(true);
        panelHoras.add(sliderHoras);
        panelPrincipal.add(panelHoras);

        // Panel para el botón y el resultado
        JPanel panelBotonResultado = new JPanel();
        panelBotonResultado.setLayout(new BorderLayout());
        buttonEnviar = new JButton("Enviar");
        textFieldResultado = new JTextField();
        textFieldResultado.setEditable(false);
        panelBotonResultado.add(buttonEnviar, BorderLayout.NORTH);
        panelBotonResultado.add(textFieldResultado, BorderLayout.CENTER);
        panelPrincipal.add(panelBotonResultado);

        // Escuchadores de eventos
        buttonEnviar.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                mostrarResultado();
            }
        });

        // Añadir el panel principal al JFrame
        add(panelPrincipal);
    }

    private void mostrarResultado() {
        StringBuilder resultado = new StringBuilder();
        resultado.append("Sistema Operativo: ");
        if (radioButtonWindows.isSelected()) {
            resultado.append("Windows");
        } else if (radioButtonLinux.isSelected()) {
            resultado.append("Linux");
        } else if (radioButtonMac.isSelected()) {
            resultado.append("Mac");
        }
        resultado.append("\nEspecialidad: ");
        if (checkBoxProgramacion.isSelected()) {
            resultado.append("Programación, ");
        }
        if (checkBoxDisenoGrafico.isSelected()) {
            resultado.append("Diseño gráfico, ");
        }
        if (checkBoxAdministracion.isSelected()) {
            resultado.append("Administración, ");
        }
        resultado.deleteCharAt(resultado.length() - 2); // Eliminar la coma al final
        resultado.append("\nHoras Dedicadas en el Ordenador: ").append(sliderHoras.getValue());

        textFieldResultado.setText(resultado.toString());
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                miniEncuesta encuesta = new miniEncuesta();
                encuesta.setVisible(true);
            }
        });
    }
}
